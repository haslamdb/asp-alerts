{% extends "base.html" %}

{% block title %}AEGIS - Healthcare Intelligence Platform{% endblock %}

{% block content %}
<div class="landing-header">
    <img src="{{ url_for('static', filename='aegis-logo.png') }}" alt="AEGIS" class="landing-logo">
    <p class="landing-subtitle">Antimicrobial &amp; Epidemiological Guidance Intelligence System</p>
</div>

<div class="section-cards">
    <a href="{{ url_for('abx_approvals.dashboard') }}" class="section-card section-approvals">
        <div class="section-icon">&#x1F4DE;</div>
        <h2>ABX Approvals</h2>
        <p>Phone-based antibiotic approval requests with allergy-aware recommendations.</p>
        <div class="section-features">
            <span>Approval Workflow</span>
            <span>Allergy Alerts</span>
            <span>Clinical Context</span>
        </div>
    </a>

    <a href="{{ url_for('asp_alerts.alerts_active') }}" class="section-card section-alerts">
        <div class="section-icon">&#x26A0;</div>
        <h2>ASP Alerts</h2>
        <p>Blood culture and antimicrobial therapy alerts for antimicrobial stewardship review.</p>
        <div class="section-features">
            <span>Blood Culture Alerts</span>
            <span>Therapy Review</span>
            <span>Coverage Analysis</span>
        </div>
    </a>

    <a href="{{ url_for('drug_bug.dashboard') }}" class="section-card section-drugbug">
        <div class="section-icon">&#x1F9EC;</div>
        <h2>Drug-Bug Mismatch</h2>
        <p>Real-time detection of therapy-organism mismatches based on culture susceptibilities.</p>
        <div class="section-features">
            <span>Coverage Gaps</span>
            <span>Resistance Alerts</span>
            <span>De-escalation</span>
        </div>
    </a>

    <a href="{{ url_for('abx_indications.dashboard') }}" class="section-card section-abx">
        <div class="section-icon">&#x1F48A;</div>
        <h2>Antibiotic Indications</h2>
        <p>LLM-based indication extraction and antibiotic appropriateness assessment.</p>
        <div class="section-features">
            <span>LLM Extraction</span>
            <span>Prophylaxis</span>
            <span>FN Detection</span>
        </div>
    </a>

    <a href="{{ url_for('hai_detection.dashboard') }}" class="section-card section-hai">
        <div class="section-icon">&#x1F3E5;</div>
        <h2>HAI Detection</h2>
        <p>Healthcare-associated infection detection using NHSN surveillance criteria.</p>
        <div class="section-features">
            <span>CLABSI Detection</span>
            <span>CAUTI Detection</span>
            <span>Surveillance</span>
        </div>
    </a>

    <a href="{{ url_for('mdro_surveillance.dashboard') }}" class="section-card section-mdro">
        <div class="section-icon">&#x1F9A0;</div>
        <h2>MDRO Surveillance</h2>
        <p>Multi-drug resistant organism tracking based on culture susceptibilities.</p>
        <div class="section-features">
            <span>MRSA/VRE/CRE</span>
            <span>ESBL/CRPA/CRAB</span>
            <span>Transmission</span>
        </div>
    </a>

    <a href="{{ url_for('outbreak_detection.dashboard') }}" class="section-card section-outbreak">
        <div class="section-icon">&#x1F6A8;</div>
        <h2>Outbreak Detection</h2>
        <p>Cluster detection and investigation across MDRO, HAI, and CDI cases.</p>
        <div class="section-features">
            <span>Cluster Detection</span>
            <span>IP Alerts</span>
            <span>Investigation</span>
        </div>
    </a>

    <a href="{{ url_for('nhsn_reporting.dashboard') }}" class="section-card section-nhsn">
        <div class="section-icon">&#x1F4CA;</div>
        <h2>NHSN Reporting</h2>
        <p>Antimicrobial usage and resistance reporting for NHSN AU/AR module.</p>
        <div class="section-features">
            <span>Usage Data</span>
            <span>Resistance Data</span>
            <span>CDA Export</span>
        </div>
    </a>

    <a href="{{ url_for('surgical_prophylaxis.dashboard') }}" class="section-card section-surgical">
        <div class="section-icon">&#x1FA7A;</div>
        <h2>Surgical Prophylaxis</h2>
        <p>Perioperative antibiotic validation for timing, agent selection, and duration.</p>
        <div class="section-features">
            <span>Timing Validation</span>
            <span>Agent Selection</span>
            <span>Duration Monitor</span>
        </div>
    </a>

    <a href="{{ url_for('guideline_adherence.dashboard') }}" class="section-card section-guidelines">
        <div class="section-icon">&#x1F4CB;</div>
        <h2>Guideline Adherence</h2>
        <p>Population-level tracking of clinical guideline and care bundle compliance.</p>
        <div class="section-features">
            <span>Bundle Tracking</span>
            <span>Compliance %</span>
            <span>JC Reporting</span>
        </div>
    </a>

    <a href="{{ url_for('dashboards.index') }}" class="section-card section-dashboards">
        <div class="section-icon">&#x1F4C8;</div>
        <h2>Dashboards</h2>
        <p>Analytics dashboards for trends, outcomes, and operational insights.</p>
        <div class="section-features">
            <span>Trends</span>
            <span>Analytics</span>
            <span>Reports</span>
        </div>
    </a>

    <a href="{{ url_for('action_analytics.dashboard') }}" class="section-card section-action-analytics">
        <div class="section-icon">&#x1F4CA;</div>
        <h2>Action Analytics</h2>
        <p>Unified tracking and analysis of all ASP and Infection Prevention actions across modules.</p>
        <div class="section-features">
            <span>Action Tracking</span>
            <span>Therapy Changes</span>
            <span>Workload Analysis</span>
        </div>
    </a>

    <a href="{{ url_for('dashboards.model_training') }}" class="section-card section-training">
        <div class="section-icon">&#x1F9E0;</div>
        <h2>Model Training</h2>
        <p>Your expert reviews train AEGIS models. Track progress toward fine-tuned local LLMs.</p>
        <div class="section-features">
            <span>HAI Detection</span>
            <span>ABX Indications</span>
            <span>Fine-Tuning</span>
        </div>
    </a>
</div>

<style>
.landing-header {
    text-align: center;
    margin-bottom: 3rem;
    padding: 2rem 0;
}

.landing-logo {
    max-width: 320px;
    height: auto;
    margin-bottom: 0.5rem;
}

.landing-subtitle {
    font-size: 1.125rem;
    color: var(--color-gray-600);
    margin: 0;
}

.section-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
}

.section-card {
    background: var(--color-white);
    border-radius: var(--radius-lg);
    padding: 2rem;
    box-shadow: var(--shadow-md);
    text-decoration: none;
    color: inherit;
    transition: all var(--transition-smooth);
    border-left: 4px solid var(--color-gray-300);
    display: flex;
    flex-direction: column;
}

.section-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
}

.section-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
}

.section-card h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-gray-800);
    margin-bottom: 0.75rem;
}

.section-card p {
    color: var(--color-gray-600);
    font-size: 0.9375rem;
    line-height: 1.6;
    flex-grow: 1;
    margin-bottom: 1rem;
}

.section-features {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: auto;
}

.section-features span {
    font-size: 0.75rem;
    padding: 0.25rem 0.625rem;
    background: var(--color-gray-100);
    border-radius: 9999px;
    color: var(--color-gray-600);
    font-weight: 500;
}

/* Section-specific colors */
.section-alerts {
    border-left-color: var(--color-danger);
}
.section-alerts:hover {
    border-left-color: var(--color-danger);
    background: linear-gradient(135deg, var(--color-white) 0%, var(--color-danger-light) 100%);
}
.section-alerts .section-icon {
    color: var(--color-danger);
}

.section-hai {
    border-left-color: var(--color-success);
}
.section-hai:hover {
    border-left-color: var(--color-success);
    background: linear-gradient(135deg, var(--color-white) 0%, var(--color-success-light) 100%);
}
.section-hai .section-icon {
    color: var(--color-success);
}

.section-nhsn {
    border-left-color: #E11D48;
}
.section-nhsn:hover {
    border-left-color: #E11D48;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(225, 29, 72, 0.1) 100%);
}
.section-nhsn .section-icon {
    color: #E11D48;
}

.section-dashboards {
    border-left-color: #059669;
}
.section-dashboards:hover {
    border-left-color: #059669;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(5, 150, 105, 0.1) 100%);
}
.section-dashboards .section-icon {
    color: #059669;
}

.section-abx {
    border-left-color: #7C3AED;
}
.section-abx:hover {
    border-left-color: #7C3AED;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(124, 58, 237, 0.1) 100%);
}
.section-abx .section-icon {
    color: #7C3AED;
}

.section-guidelines {
    border-left-color: #0891B2;
}
.section-guidelines:hover {
    border-left-color: #0891B2;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(8, 145, 178, 0.1) 100%);
}
.section-guidelines .section-icon {
    color: #0891B2;
}

.section-surgical {
    border-left-color: #0891B2;
}
.section-surgical:hover {
    border-left-color: #0891B2;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(8, 145, 178, 0.1) 100%);
}
.section-surgical .section-icon {
    color: #0891B2;
}

.section-drugbug {
    border-left-color: #7C3AED;
}
.section-drugbug:hover {
    border-left-color: #7C3AED;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(124, 58, 237, 0.1) 100%);
}
.section-drugbug .section-icon {
    color: #7C3AED;
}

.section-approvals {
    border-left-color: #F59E0B;
}
.section-approvals:hover {
    border-left-color: #F59E0B;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(245, 158, 11, 0.1) 100%);
}
.section-approvals .section-icon {
    color: #F59E0B;
}

.section-mdro {
    border-left-color: #DC2626;
}
.section-mdro:hover {
    border-left-color: #DC2626;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(220, 38, 38, 0.1) 100%);
}
.section-mdro .section-icon {
    color: #DC2626;
}

.section-outbreak {
    border-left-color: #BE185D;
}
.section-outbreak:hover {
    border-left-color: #BE185D;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(190, 24, 93, 0.1) 100%);
}
.section-outbreak .section-icon {
    color: #BE185D;
}

.section-action-analytics {
    border-left-color: #0E7490;
}
.section-action-analytics:hover {
    border-left-color: #0E7490;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(14, 116, 144, 0.1) 100%);
}
.section-action-analytics .section-icon {
    color: #0E7490;
}

.section-training {
    border-left-color: #0284c7;
}
.section-training:hover {
    border-left-color: #0284c7;
    background: linear-gradient(135deg, var(--color-white) 0%, rgba(2, 132, 199, 0.1) 100%);
}
.section-training .section-icon {
    color: #0284c7;
}

.coming-soon-badge {
    margin-top: 1rem;
    padding: 0.375rem 0.75rem;
    background: var(--color-gray-100);
    border: 1px dashed var(--color-gray-400);
    border-radius: var(--radius-md);
    color: var(--color-gray-600);
    font-size: 0.8125rem;
    font-weight: 500;
    text-align: center;
}

@media (max-width: 768px) {
    .landing-header h1 {
        font-size: 2.25rem;
    }

    .landing-subtitle {
        font-size: 1rem;
    }

    .section-cards {
        grid-template-columns: 1fr;
    }
}
</style>
{% endblock %}
